<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Hello, world!</title>
    <script>
        var config = {};

        document.addEventListener("DOMContentLoaded", async () => {
            const response = await fetch("config.json");
            config = await response.json();
        });

        async function getTheTime() {
            const response = await fetch(`${config.api}/date`);
            const data = await response.json();
            document.querySelector("#the-time").textContent = `The time is now ${data.now}.`;
        }
    </script>
</head>
<body>
    <h1>âŒš What time is it?</h1>
    <p>
        <button onclick="getTheTime()">Get the time</button>
    </p>
    <p id="the-time"></p>
    <p>Deployed with ðŸ’œ by <a href="https://pulumi.com/templates">Pulumi</a>.</p>
</body>
</html>
